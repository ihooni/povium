@import "../global-inclusion/less/_global-variables";
@import "../global-inclusion/less/_global-mixins";

#popular {
	position: relative;
	overflow-y: hidden;

	.post-container {
		// background: rgb(150, 150, 150);
		white-space: nowrap;
		overflow-x: scroll;
		overflow-y: hidden;
		-webkit-overflow-scrolling: touch;
		// padding: calc(2rem - 17px) 0 2rem;
		user-select: none;
		position: relative;
		// top: 17px;
		// margin-top: -17px;
		font-size: 0;

		.post {
			width: 17rem;
			background: @white-blue;
			border-radius: 1rem;
			overflow: hidden;
			display: inline-block;
			vertical-align: top;
			margin: .3rem 0 calc(.3rem + 10px) 1.7rem;
			// box-shadow: 0 .3rem 1rem rgba(0, 0, 0, .2);
			cursor: default;
			transition: all .2s ease;
			user-select: none;

			&:last-child {
				margin-right: 2rem;
			}

			&:hover {
				// box-shadow: 0 0 0 .3rem @pvm-purple;
				color: @pvm-purple;
			}

			&:active {
				transform: scale(.95);
				overflow: hidden;
				// box-shadow: 0 .2rem .3rem rgba(0,0,0,.2);
			}

			.img {
				border-radius: 1rem 1rem 0 0;
				display: block;
				width: 100%;
				height: 10rem;
				object-fit: cover;
				pointer-events: none;
				user-select: none;
			}

			.manifesto {
				padding: 1rem;
				white-space: initial;

				.title {
					display: block;
					font-size: 1.7rem;
					font-weight: 700;
					line-height: 1;
				}
				.contents {
					display: block;
					font-size: 1.2rem;
					font-weight: 400;
					margin-top: 1rem;
					line-height: 1;
				}
				
				.creator-and-view {
					margin-top: 1.5rem;
					display: flex;
					justify-content: space-between;
					font-size: .87rem;
					font-weight: 500;

					.creator:hover {
						text-decoration: underline;
					}
				}
			}
		}

		&:hover .next {
			opacity: .8;
		}
	}

	.next {
		position: absolute;
		right: 1.5rem;
		top: 50%;
		width: 3.5rem;
		height: 3.5rem;
		border-radius: 50px;
		border: none;
		background-color: black;
		opacity: 0;
		transition: opacity .3s ease;
		transform: translateY(-50%);

		&:hover {
			opacity: .8;
		}
	}
}

.post-section {

	padding-top: 1.5rem;

	&.narrow {
		width: calc(100% - 4rem);
		max-width: 90rem;
		margin: auto;
	}

	.section-title {
		.pvm-text-6;
		max-width: 60rem;
		margin: auto;
		margin-bottom: 1.5rem;
		padding-left: 1.7rem;
		display: flex;
	
		&::before {
			content: "";
			flex: 1;
			max-width: 2rem;
			margin-right: .8rem;
			background-image: url('/assets/images/flare.svg');
			background-repeat: no-repeat;
			background-position: center;
			background-size: auto;
			position: relative;
		}
	
		&.popular {
			&::before {
				background-image: url('/assets/images/flare.svg');
				top: -.3rem;
			}
		}
	
		&.technology {
			&::before {
				background-image: url('/assets/images/chip.svg');
				top: .1rem;
			}
		}
	}

	.hero-container {
		display: flex;

		.col {
			flex: 1;
		}

		.col--featured {
			.starred {
				width: 100%;
				position: relative;
				overflow: hidden;

				.niche {
					width: 100%;
				}

				.cropped {
					position: absolute;
					right: 0;
					top: 0;
					width: 50%;
					height: 100%;
					overflow: hidden;

					.blurred {
						position: absolute;
						top: 0;
						right: 0;
						height: 100%;
						filter: blur(10px);
					}
				}

			}
		}
	}
}