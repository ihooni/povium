@import "../global-inclusion/less/_global-variables";
@import "../global-inclusion/less/_global-mixins";

// Popular
#popular {
	position: relative;
	overflow-y: hidden;

	.post-scroll-view {

		overflow: hidden;
		font-size: 0;
		position: relative;

		&:hover .next, &:hover .previous {
			opacity: 1;
		}

		.next, .previous {
			z-index: 1;
			position: absolute;
			top: 50%;
			width: 3rem;
			height: 3rem;
			border-radius: 50px;
			border: none;
			background-color: @white-blue;
			box-shadow: 0 .7rem 1rem rgba(0,0,0,.2);
			opacity: 0;
			transition: opacity .3s ease, transform .1s ease;
			transform: translateY(-50%);
			will-change: transform;
			background-position: center;
			background-repeat: no-repeat;
			background-size: 40% 40%;

			&.hidden {
				opacity: 0;
				visibility: hidden;
			}

			&:hover {
				opacity: 1;
			}

			&:active {
				transform: translateY(-50%) scale(.9);
			}
		}

		.next {
			right: 1.5rem;
			background-image: url('/assets/images/right-arrow.svg');
			background-position: 55% 50%;
		}

		.previous {
			left: 1.5rem;
			background-image: url('/assets/images/left-arrow.svg');
			background-position: 45% 50%;
		}

		.post-container {
			// background: rgb(150, 150, 150);
			display: inline-block;
			white-space: nowrap;
			user-select: none;
			position: relative;
			// top: 17px;
			// margin-top: -17px;
			font-size: 0;
			transition: transform 0.8s cubic-bezier(.35,.59,.21,.99);
			will-change: transform;

			.post {
				width: 17.3rem;
				background: @white-blue;
				border-radius: 5px;
				border-bottom: 1px solid @soft-border-gray;
				overflow: hidden;
				display: inline-block;
				vertical-align: top;
				margin: 0;
				margin-left: 1.7rem;
				// box-shadow: 0 .3rem 1rem rgba(0, 0, 0, .2);
				cursor: default;
				transition: transform .2s ease;
				user-select: none;

				&:last-child {
					margin-right: 1.7rem;
				}

				&:hover {
					// box-shadow: 0 0 0 .3rem @pvm-purple;
					color: @pvm-purple;
				}

				&:active {
					transform: scale(.95);
					overflow: hidden;
					// box-shadow: 0 .2rem .3rem rgba(0,0,0,.2);
				}

				.img {
					border-radius: 5px 5px 0 0;
					display: block;
					width: 100%;
					height: 10rem;
					object-fit: cover;
					pointer-events: none;
					user-select: none;
				}

				.manifesto {
					padding: 1rem;
					white-space: initial;

					.title {
						display: block;
						font-size: 1.7rem;
						font-weight: 700;
						line-height: 1;
					}

					.creator-and-view {
						margin-top: 1rem;
						display: flex;
						justify-content: space-between;
						font-size: .87rem;
						font-weight: 500;

						.creator:hover {
							text-decoration: underline;
						}
					}
				}
			}
		}

	}
}

.post-section {

	padding-top: 2.5rem;

	&.narrow {
		max-width: 90rem;
		margin: auto;
	}

	.section-title {
		.pvm-text-6;
		max-width: 60rem;
		margin: auto;
		margin-bottom: 1.5rem;
		padding-left: 1.7rem;
		display: flex;

		&::before {
			content: "";
			flex: 1;
			max-width: 2rem;
			margin-right: .8rem;
			background-image: url('/assets/images/flare.svg');
			background-repeat: no-repeat;
			background-position: center;
			background-size: auto;
			position: relative;
		}

		&.popular {
			&::before {
				background-image: url('/assets/images/flare.svg');
				top: -.3rem;
			}
		}

		&.technology {
			&::before {
				background-image: url('/assets/images/chip.svg');
				top: .1rem;
			}
		}
	}

	.hero-container {
		display: block;
		width: calc(100% - 3.4rem);
		margin: auto;

		.col {
			display: inline-block;
		}

		.col--featured {

			width: 50%;

			.featured {
				width: 100%;
				height: 25rem;
				position: relative;
				overflow: hidden;
				border-radius: 5px;

				.niche {
					width: 100%;
					height: 100%;
					object-fit: cover;
				}

				.content-wrapper {
					width: 50%;
					height: 100%;
					position: absolute;
					right: 0;
					top: 0;
					background: rgba(0, 0, 0, .5);
					padding: 1rem;
					color: #fff;

					.star {
						display: flex;
						font-size: 1.2rem;
						font-weight: 400;

						&::before {
							content: '';
							display: inline-block;
							flex: 1;
							max-width: 1rem;
							margin-right: .3rem;
							background-image: url('/assets/images/star.svg');
							background-repeat: no-repeat;
							background-position: center;
							background-size: auto;
						}
					}
				}

			}
		}
	}
}
